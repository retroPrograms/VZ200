;g4 start
.org 32256
	
start:
	;CALL 01C9h	;clear screen
	call hires
	
	call drawScreen
	
	call readkey
	CALL 01C9h	;clear screen
	ret
	
drawScreen:
	ld b,7
	
	ld hl, screen
	ld de, 077ffh
db_loop1:
	ld c,32
db_loop:
	ld a,(hl)
	ld (de), a
	dec de
	inc hl
	dec c
	jp nz, db_loop
	dec b
	jp nz, db_loop1
	ret
	

	
hires:
		ld hl, 06800h
		ld a,8
		ld (hl), a
		ld hl,077FFh
		ld a,06fh
clearLoop:
			ld (hl), 0
			dec l
			jp nz, clearLoop
			dec h
			cp h
			jp nz, clearLoop
			ret

		
readkey:
scan:  ;registers af, bc, de and hl 
	call 2ef4h
	cp 84
	jp z, erase
	cp 020h 
	jr nz,scan
	CALL 01C9h	;clear screen
	ret
erase:
	ld hl,07250h
	
	jp scan
	

		
		
		
pic .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,5,80,85,85,4,21,85
	 .byte 80,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,1,84,84,0
	 .byte 0,0,0,0,0,5,21,64,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 1,85,0,0,0,0,0,0,0
	 .byte 0,0,0,21,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,69,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 64,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 5,64,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,20,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,80,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,1,64,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 1,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,16,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,16,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,4,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 5,64,0,0,0,0,0,0,0
	 .byte 0,0,0,0,21,85,80,0,1
	 .byte 64,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,20,0,0,17
	 .byte 85,85,84,0,0,0,0,0,85
	 .byte 64,0,21,64,0,16,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,80,0,5,80,0,0,1,0
	 .byte 0,0,0,84,64,0,0,0,20
	 .byte 0,4,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,1,0,0,84
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,5,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,4,0,1,64,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,80,0,84,0,0,0,0,0
	 .byte 0,0,0,0,0,0,16,0,5
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,84,0,0,20,0,5
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,16,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,21,1
	 .byte 84,0,0,0,5,64,0,0,0
	 .byte 0,0,0,0,0,0,0,80,0
	 .byte 0,0,21,85,64,0,0,0,4
	 .byte 0,0,0,16,0,5,0,0,0
	 .byte 0,16,1,84,0,0,0,0,0
	 .byte 0,0,0,64,0,0,0,16,0
	 .byte 64,0,0,0,4,0,0,0,16
	 .byte 0,1,0,0,0,0,20,20,5
	 .byte 64,0,0,0,0,0,85,84,64
	 .byte 0,0,0,80,0,64,0,0,0
	 .byte 4,0,0,0,16,0,0,64,0
	 .byte 0,0,5,64,0,64,0,0,0
	 .byte 0,1,64,5,64,0,0,0,64
	 .byte 1,64,0,0,0,4,0,0,0
	 .byte 20,0,85,64,0,0,0,1,0
	 .byte 0,80,0,0,0,0,5,0,1
	 .byte 64,0,0,0,80,21,0,0,0
	 .byte 0,16,0,0,0,5,85,4,0
	 .byte 0,0,0,1,0,0,16,0,0
	 .byte 0,0,20,0,0,64,0,0,0
	 .byte 5,80,0,0,0,0,80,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 64,0,16,0,0,0,0,16,0
	 .byte 0,64,0,0,0,0,0,0,0
	 .byte 0,0,64,0,0,0,0,0,0
	 .byte 0,0,0,0,0,64,0,4,0
	 .byte 0,0,0,16,0,0,64,0,0
	 .byte 0,0,0,0,0,0,1,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,64,0,4,0,0,0,0,16
	 .byte 0,0,64,0,0,0,0,0,0
	 .byte 0,0,4,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,16,0,4
	 .byte 0,0,0,0,16,0,0,64,0
	 .byte 0,0,0,0,0,0,0,20,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,16,0,4,0,0,0,0
	 .byte 16,0,0,64,0,0,0,0,0
	 .byte 0,0,0,64,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,16,0
	 .byte 4,0,0,0,0,16,0,0,64
	 .byte 0,0,0,0,0,0,0,1,64
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,4,0,0,0
	 .byte 0,16,0,0,64,0,0,0,0
	 .byte 0,0,0,20,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,4
	 .byte 0,4,0,0,0,0,16,0,0
	 .byte 64,0,0,0,0,0,0,0,80
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,4,0,20,0,0
	 .byte 0,0,20,0,0,0,0,0,0
	 .byte 0,0,0,1,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 5,0,80,0,0,0,0,4,0
	 .byte 0,4,0,0,0,0,0,0,5
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,5,65,64,0
	 .byte 0,0,0,1,0,0,4,0,0
	 .byte 0,0,0,0,4,0,0,0,0
	 .byte 0,0,0,0,0,0,64,0,0
	 .byte 0,4,85,0,0,0,0,0,0
	 .byte 80,0,85,0,0,0,0,0,0
	 .byte 4,0,0,0,5,0,0,0,0
	 .byte 0,1,64,0,0,0,4,0,0
	 .byte 0,0,0,0,0,21,65,65,64
	 .byte 0,0,0,0,0,5,0,0,1
	 .byte 84,0,0,0,0,0,20,64,0
	 .byte 0,0,4,0,0,0,0,0,0
	 .byte 0,0,85,0,64,0,0,0,0
	 .byte 0,1,85,85,84,0,0,0,0
	 .byte 0,1,65,0,0,0,0,4,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 16,0,1,84,64,0,0,0,0
	 .byte 0,0,0,0,0,0,4,1,0
	 .byte 0,0,0,4,0,0,0,0,0
	 .byte 0,0,0,0,0,16,0,0,80
	 .byte 20,84,0,0,0,0,0,0,0
	 .byte 0,0,80,1,0,0,0,0,4
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,4,0,0,21,64,1,21,64
	 .byte 0,0,0,0,0,0,69,0,4
	 .byte 0,0,0,0,4,0,0,0,0
	 .byte 0,0,0,0,0,0,1,0,0
	 .byte 0,84,0,0,21,85,69,20,0
	 .byte 0,21,64,0,80,0,0,0,0
	 .byte 4,0,0,0,0,0,0,0,0
	 .byte 0,0,0,64,0,0,5,64,0
	 .byte 0,0,0,5,84,84,64,0,5
	 .byte 0,0,0,0,0,16,0,0,0
	 .byte 0,0,0,0,0,0,0,0,80
	 .byte 0,0,0,21,0,0,0,0,0
	 .byte 0,0,0,1,80,0,0,0,0
	 .byte 0,16,0,0,0,0,0,0,0
	 .byte 0,0,0,0,4,0,0,0,1
	 .byte 84,0,0,0,0,0,0,0,85
	 .byte 0,0,0,0,0,0,64,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 4,0,0,0,0,5,80,0,0
	 .byte 0,0,0,21,0,0,0,0,0
	 .byte 0,0,64,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,16,0,0
	 .byte 0,0,21,80,0,0,0,85,64
	 .byte 0,0,0,0,0,0,4,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,1,64,0,0,0,0,5
	 .byte 85,81,84,0,0,0,0,0,0
	 .byte 0,0,16,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,21
	 .byte 64,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,1,64,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,20,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,4,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,1,16,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,64,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,1,64
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,21,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,20,80,0,0,0
	 .byte 0,0,0,0,0,0,5,64,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,4,64,0,0,0,0,0,0
	 .byte 0,1,80,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,64,64
	 .byte 0,0,0,0,0,0,21,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,1,84,81,4,81
	 .byte 84,80,64,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,0,0,0,0
	 .byte 0,0,0,0,0,

tileStart:
		.byte 2
		
;number .byte 1
;singlenum	.byte 1
;hexnum .byte 1

;keyboard .byte 1

	.end
